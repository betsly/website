<%-- 
    Document   : jSchowJoinedGroupsPage
    Created on : 17.03.2021, 17:46:05
    Author     : nico
--%>

<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@page contentType="text/html" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link href="styleShowJoinedGroup.css" rel="stylesheet" type="text/css"/>
        <title>Joined Groups</title>
    </head>
    <body>

       <!-- <div id="football">
            <div id="Group_36">
                <div id="Group_55">
                    <div id="Group_47">
                        <svg class="Rectangle_2233">
                        <rect id="Rectangle_2233" rx="3.5" ry="3.5" x="0" y="0" width="156" height="7">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234">
                        <rect id="Rectangle_2234" rx="0" ry="0" x="0" y="0" width="156" height="7">
                        </rect>
                        </svg>
                    </div>
                    <div id="Group_48">
                        <svg class="Rectangle_2233_t">
                        <rect id="Rectangle_2233_t" rx="3.5" ry="3.5" x="0" y="0" width="157" height="7">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_u">
                        <rect id="Rectangle_2234_u" rx="0" ry="0" x="0" y="0" width="157" height="7">
                        </rect>
                        </svg>
                    </div>
                </div>
                <div id="Group_53">
                    <div id="Group_49">
                        <svg class="Rectangle_2233_x">
                        <rect id="Rectangle_2233_x" rx="3.848804235458374" ry="3.848804235458374" x="0" y="0" width="156.511" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_y">
                        <rect id="Rectangle_2234_y" rx="0" ry="0" x="0" y="0" width="156.511" height="7.698">
                        </rect>
                        </svg>
                    </div>
                    <div id="Group_50">
                        <svg class="Rectangle_2233_">
                        <rect id="Rectangle_2233_" rx="3.8487727642059326" ry="3.8487727642059326" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_">
                        <rect id="Rectangle_2234_" rx="0" ry="0" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                    </div>
                    <div id="Group_51">
                        <svg class="Rectangle_2233_ba">
                        <rect id="Rectangle_2233_ba" rx="3.848804235458374" ry="3.848804235458374" x="0" y="0" width="156.511" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_ba">
                        <rect id="Rectangle_2234_ba" rx="0" ry="0" x="0" y="0" width="156.511" height="7.698">
                        </rect>
                        </svg>
                    </div>
                    <div id="Group_52">
                        <svg class="Rectangle_2233_bb">
                        <rect id="Rectangle_2233_bb" rx="3.8487727642059326" ry="3.8487727642059326" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_bb">
                        <rect id="Rectangle_2234_bb" rx="0" ry="0" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                    </div>
                </div>
                <div id="Group_54">
                    <div id="Group_49_">
                        <svg class="Rectangle_2233_bc">
                        <rect id="Rectangle_2233_bc" rx="3.8487892150878906" ry="3.8487892150878906" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_bc">
                        <rect id="Rectangle_2234_bc" rx="0" ry="0" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                    </div>
                    <div id="Group_50_bc">
                        <svg class="Rectangle_2233_bd">
                        <rect id="Rectangle_2233_bd" rx="3.848785161972046" ry="3.848785161972046" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_be">
                        <rect id="Rectangle_2234_be" rx="0" ry="0" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                    </div>
                    <div id="Group_51_bf">
                        <svg class="Rectangle_2233_bg">
                        <rect id="Rectangle_2233_bg" rx="3.8487892150878906" ry="3.8487892150878906" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_bh">
                        <rect id="Rectangle_2234_bh" rx="0" ry="0" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                    </div>
                    <div id="Group_52_bi">
                        <svg class="Rectangle_2233_bj">
                        <rect id="Rectangle_2233_bj" rx="3.848785161972046" ry="3.848785161972046" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                        <svg class="Rectangle_2234_bk">
                        <rect id="Rectangle_2234_bk" rx="0" ry="0" x="0" y="0" width="156.51" height="7.698">
                        </rect>
                        </svg>
                    </div>
                </div>
                <svg class="Polygon_5" viewBox="0 0 284.798 246.312">
                <path id="Polygon_5" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
                <svg class="Polygon_4" viewBox="0 0 284.798 246.312">
                <path id="Polygon_4" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
            </div>
            <div id="Group_38">
                <svg class="Polygon_5_bo" viewBox="0 0 284.798 246.312">
                <path id="Polygon_5_bo" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
                <svg class="Polygon_4_bp" viewBox="0 0 284.798 246.312">
                <path id="Polygon_4_bp" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
            </div>
            <div id="Group_39">
                <svg class="Polygon_5_br" viewBox="0 0 284.798 246.312">
                <path id="Polygon_5_br" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
                <svg class="Polygon_4_bs" viewBox="0 0 284.798 246.312">
                <path id="Polygon_4_bs" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
            </div>
            <div id="Group_40">
                <svg class="Polygon_5_bu" viewBox="0 0 284.798 246.312">
                <path id="Polygon_5_bu" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
                <svg class="Polygon_4_bv" viewBox="0 0 284.798 246.312">
                <path id="Polygon_4_bv" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
            </div>
            <div id="Group_43">
                <svg class="Polygon_5_bx" viewBox="0 0 284.798 246.312">
                <path id="Polygon_5_bx" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
                <svg class="Polygon_4_by" viewBox="0 0 284.798 246.312">
                <path id="Polygon_4_by" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
            </div>
            <div id="Group_45">
                <div id="Group_43_b">
                    <svg class="Polygon_5_b" viewBox="0 0 284.798 246.312">
                    <path id="Polygon_5_b" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                    </path>
                    </svg>
                    <svg class="Polygon_4_b" viewBox="0 0 284.798 246.312">
                    <path id="Polygon_4_b" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                    </path>
                    </svg>
                </div>
            </div>
            <div id="Group_46">
                <svg class="Polygon_5_ca" viewBox="0 0 284.798 246.312">
                <path id="Polygon_5_ca" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
                <svg class="Polygon_4_ca" viewBox="0 0 284.798 246.312">
                <path id="Polygon_4_ca" d="M 213.5985717773438 0 L 284.798095703125 123.1559219360352 L 213.5985717773438 246.3118438720703 L 71.19951629638672 246.3118438720703 L 0 123.1559143066406 L 71.19953918457031 0 Z">
                </path>
                </svg>
            </div>
        </div>

        <img id="default-user-image" src="default-user-image.png" srcset="default-user-image.png 1x, default-user-image@2x.png 2x">
        <div id="Group_8">
            <img id="Group_7" src="Group_7.png" srcset="Group_7.png 1x, Group_7@2x.png 2x">

            </svg>
        </div> -->
        <form action="./BetslyServlet" method="post">
            <c:if test="${joinedGroups != null}">
                <h1>Joined Groups</h1>
                <ul id="groups">
                    <c:forEach var="group" items="${joinedGroups}">
                        <li>
                            <div class="groupName">
                                <h3>${group.id}: ${group.name}</h3>
                            </div>
                            <details>
                                <p>${group.description}</p>
                                <p>Punkte: ${group.points}</p>
                                <p>Host: ${group.host}</p>
                                <c:forEach var="entry" items="${betMapGroupPhase}">
                                    <c:if test="${entry.key == group.id && entry.value.size() > 0}">
                                        Group Phase Bets
                                        <c:forEach var="bet" items="${entry.value}">
                                            <c:if test="${bet.closed != null && !bet.closed}">
                                                <p>Bet ${bet.id}: 
                                                    ${bet.name} <button type="submit" value="makeBet: ${bet.id} ${group.id}" name="makeBetGroup">make Bet</button>
                                                </p>
                                                <c:if test="${jwtUser.equals(group.host)}">
                                                    1. <select name="c1">
                                                        <option value="${bet.country1.id}">${bet.country1.name}</option>
                                                        <option value="${bet.country2.id}">${bet.country2.name}</option>
                                                        <option value="${bet.country3.id}">${bet.country3.name}</option>
                                                        <option value="${bet.country4.id}">${bet.country4.name}</option>
                                                    </select>
                                                    2. <select name="c2">
                                                        <option value="${bet.country2.id}">${bet.country2.name}</option>
                                                        <option value="${bet.country1.id}">${bet.country1.name}</option>
                                                        <option value="${bet.country3.id}">${bet.country3.name}</option>
                                                        <option value="${bet.country4.id}">${bet.country4.name}</option>
                                                    </select>
                                                    3. <select name="c3">
                                                        <option value="${bet.country3.id}">${bet.country3.name}</option>
                                                        <option value="${bet.country1.id}">${bet.country1.name}</option>
                                                        <option value="${bet.country2.id}">${bet.country2.name}</option>
                                                        <option value="${bet.country4.id}">${bet.country4.name}</option>
                                                    </select>
                                                    4. <select name="c4">
                                                        <option value="${bet.country4.id}">${bet.country4.name}</option>
                                                        <option value="${bet.country1.id}">${bet.country1.name}</option>
                                                        <option value="${bet.country2.id}">${bet.country2.name}</option>
                                                        <option value="${bet.country3.id}">${bet.country3.name}</option>
                                                    </select>
                                                    <button type="submit" value="${bet.id} ${group.id}" name="closeBetGroup" >close Bet</button>
                                                </c:if>
                                            </c:if>
                                        </c:forEach>
                                    </c:if>
                                </c:forEach>
                                <c:forEach var="entry" items="${betMapKOPhase}">
                                    <c:if test="${entry.key == group.id && entry.value.size() > 0}">
                                        Ko Phase Bets
                                        <c:forEach var="bet" items="${entry.value}">
                                            <c:if test="${bet.closed != null && !bet.closed}">
                                                <p>Bet ${bet.betId}: 
                                                    ${bet.name} <button type="submit" value="makeBet: ${bet.betId} ${group.id}" name="makeBetKO">make Bet</button>
                                                </p>
                                                <c:if test="${jwtUser.equals(group.host)}">
                                                    Gewinner: <select name="winner">
                                                        <option value="${bet.country1.id}">${bet.country1.name}</option>
                                                        <option value="${bet.country2.id}">${bet.country2.name}</option>
                                                    </select>
                                                    Endergebnis: <input type="text" name="endscore" value="" placeholder="0:0"/>
                                                    <button type="submit" value="${bet.betId} ${group.id}" name="closeBetKO" >close Bet</button>
                                                </c:if>
                                            </c:if>
                                        </c:forEach>
                                    </c:if>
                                </c:forEach>
                            </details>
                        <c:if test="${jwtUser.equals(group.host)}">
                            <button  type="submit" value="${group.id}" name="createBetForm" >create Bet</button>
                        </c:if>
                        </li>
                    </c:forEach>
                </ul>
            </c:if>
        </form>
    </body>
</html>
